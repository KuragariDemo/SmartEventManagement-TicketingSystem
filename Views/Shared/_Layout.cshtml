@using Microsoft.AspNetCore.Identity
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using Microsoft.AspNetCore.Identity
@using SmartEventManagement_TicketingSystem.Areas.Identity.Data
@inject SignInManager<SmartEventManagement_TicketingSystemUser> SignInManager
@inject UserManager<SmartEventManagement_TicketingSystemUser> UserManager
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - MetroCulture</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Global site CSS -->
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />

    <!-- Page-specific CSS (Login / Register) -->
    @RenderSection("Styles", required: false)
</head>
<body>

    <!-- NAVBAR -->
    <nav>
        <div class="logo">Metro<span>Culture</span></div>
        <ul class="nav-links">
            <li>
                <a asp-controller="Home" asp-action="Index">Home</a>
            </li>
            <li><a href="#featured">Featured</a></li>
            <li><a href="#upcoming">Events</a></li>
            <li><a href="#membership">Membership</a></li>

            <!-- Identity Login -->
            @if (SignInManager.IsSignedIn(User))
            {
                <li>
                    <a asp-controller="MemberDashboard"
                       asp-action="Index">
                        Dashboard
                    </a>
                </li>

                <li class="profile-wrapper">
                    <a asp-controller="Profile" asp-action="Index" class="profile-circle">
                        @User.Identity.Name.Substring(0, 1).ToUpper()
                    </a>
                </li>

                <li>
                    <form asp-area="Identity"
                          asp-page="/Account/Logout"
                          method="post"
                          style="display:inline;">
                        <button type="submit" class="logout-btn">
                            Logout
                        </button>
                    </form>
                </li>
            }
            else
            {
                <li>
                    <a asp-area="Identity" asp-page="/Account/Login">
                        Sign In
                    </a>
                </li>

                <li>
                    <a asp-area="Identity"
                       asp-page="/Account/Register"
                       class="btn-register">
                        Join Now
                    </a>
                </li>
            }
        </ul>
    </nav>

    <!-- MAIN CONTENT -->
    <main>
        @RenderBody()
    </main>

    <!-- FOOTER -->
    <footer>
        <div class="footer-grid">
            <div class="footer-col brand-col">
                <a href="#" class="logo" style="text-decoration: none;">Metro<span>Culture</span></a>
                <p>
                    Bringing the community together through art, music, and innovation.
                    The official platform for the Metropolitan Cultural Council.
                </p>
                <div class="social-links">
                    <a href="#" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-icon" title="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-icon" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>

            <div class="footer-col">
                <h4>Discover</h4>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Upcoming Events</a></li>
                    <li><a href="#">Venue Gallery</a></li>
                    <li><a href="#">Membership Plans</a></li>
                    <li><a href="#">News & Press</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h4>Support</h4>
                <ul>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Ticket Policies</a></li>
                    <li><a href="#">Refunds & Returns</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Admin Portal</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h4>Get in Touch</h4>
                <ul class="contact-list">
                    <li>
                        <i class="fas fa-map-marker-alt"></i>
                        <span>123 Culture Avenue, Arts District<br>Metro City, MC 10293</span>
                    </li>
                    <li>
                        <i class="fas fa-phone-alt"></i>
                        <span>+1 (555) 123-4567</span>
                    </li>
                    <li>
                        <i class="fas fa-envelope"></i>
                        <span>support@metroculture.org</span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="copyright">
            <span>&copy; 2026 Metropolitan Cultural Council. All Rights Reserved.</span>
            <div class="copyright-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Cookie Settings</a>
            </div>
        </div>
    </footer>

    <!-- REQUIRED for Identity pages -->
    @RenderSection("Scripts", required: false)

</body>
</html>
